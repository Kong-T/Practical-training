<html>

<head>
  <meta charset="utf-8">
  <title>选题</title>


  <link href="../css/blog.css" rel="stylesheet">
  <link href="../../assets4.5/dist/css/bootstrap.css" rel="stylesheet">
  <link href="../css/topicRelease.css" rel="stylesheet">
  <link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <!-- <script src="D:\Practical-training\Teacher\JS\guide_grade.js"></script> -->
  <script>
    $(function () {
      $("#navbarCode").load("T_nav.html");
    });
  </script>
  <style>
    .tan {
      height: 100px;
    }
  </style>
</head>

<body>

  <div id="navbarCode"></div>
  <div class="tan"></div>
  <div class=" text-center"></div>

  </head>


  <div class="container">
    <div class="py-2 text-center">
      <p class="lead">请老师填写以下选题信息，成功提交后可在个人中心看到相关信息</p>
    </div>
    <div class="row justify-content-center align-items-center">
      

        <form action="" method="get">
          <h5>选题名称：</h5>
          <input type="text" id="topicname" placeholder="请输入选题名称" />
          <br>
          <br>
          <h5>选题简介：</h5>
          <textarea rows="10" cols="70" id='topicintro' wrap="hard"></textarea>
          <br>
          <br>
          <button type="button" onclick="topic_release()" class="btn btn-primary" style="margin-left: 44%;">提 交</button>
        </form>
    </div>
  </div>
  <script type="text/javascript">
    function topic_release() {
      var name = $("#topicname").val();                     //选题名
      var intro = $("#topicintro").val();
      console.log(intro);                    //选题简介
      console.log("上传的选题" + name);
      console.log("上传的详细信息" + intro);
      $.ajax({
        type: "POST",
        url: "http://localhost:8080/topicRelease",
        data: JSON.stringify({ "name": name, "intro": intro }), //将JSON对象转为字符串
        dataType: "JSON",
        contentType: "application/json",
        async: 'true',

        beforeSend: function (XMLHttpRequest, settings) {
          //ShowLoading();
          // console.log($.ajax.data);
        },
        success: function (data) {
          if (data == true) {
            alert("选题上传成功");
          }
        },
        error: function () {
          //请求出错处理
          console.log("选题上传失败");

        },

      })

    }
  </script>
</body>