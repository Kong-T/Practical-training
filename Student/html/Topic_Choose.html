<html>

<head>
    <meta charset="utf-8">
    <title>Bootstrap 布局实例</title>
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/Topic_Choose.css">
    <link rel="stylesheet" type="text/css" href="../css/StuNav.css">
    <link rel=" stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript"></script>
</head>
<script>
    //请求选题数据
    window.onload = function () {
        var name = "Topic_Choose";//当前网页名
        $.ajax({
            url: "",
            type: "post",
            data: name,
            success: function (data) {
                /*这个方法里是ajax发送请求成功之后执行的代码*/
                var data=JSON.parse(data);//解析JSON数据
                showTopicData(data);

            },
            error: function (msg) {
                alert("ajax连接异常：" + msg);
                console.log("error");

            }
        });
    }
    //展示选题概况
    function showTopicData(data) {
        var str = "";
        for (var i = 0; i < data.data1.length; i++) {
            var Topicid ="Topicid"+i;
            str = "<div class='col-sm-6 col-md-4'><div class='caption'><img src='../image/Topic7_img/实训题目.png' alt='...' style='width:100%; height:200px;'><h3>"
                + data.data1[i].Subject_title + "</h3><p>指导教师：" + data.data1[i].Tutor
                + "</p><p><a href='#' class='btn btn-primary' role='button'id='"+Topicid+"' onclick='SentData()'>填报选题</a></p></div></div>"

        }
        $("#div1").html(str);
    }
    //传送选题情况
    function SentData() {
        var str11=document.getElementById(Topic_id);
        $.ajax({
            type: "POST",
            url: "",
            data: JSON.stringify(str11), //将JSON对象转为字符串
            dataType: "JSON",
            success: function () {
                alert("填报成功！");
            },
            error: function () {
                alert("填报出错！");
                //请求出错处理
            }
        })
    }
    


</script>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="example-navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a class="icon-bar" href="#">方正实训</a>
                    </li>
                    <li><a href="notice1.html">通知公告</a>
                    </li>
                    <li><a href="Board.html">留言板</a>
                    </li>
                    <li><a href="#">课程资源</a>
                    </li>
                    <li class="active"><a href="Topic_Choose.html">填报选题</a>
                    </li>
                    <li><a href="teamFill.html">填报分组</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="..\..\usercenter\html\gerenzhongxin.html"
                            id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">我的</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="row" id="div1">


        </div>
    </div>