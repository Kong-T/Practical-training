<html lang="zh-CN">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>通知细则-HTML5</title>
    <style type="text/css">
        body {
            width: 700px;
            margin: 40px auto;
            padding: 0 20px;
            border: solid 1px black;
            border-radius: 10px;
        }

        li {
            list-style: none;
        }

        h2 {
            text-align: center;
        }

        h5 {
            text-align: right;
            font-style: normal;
        }
    </style>
    <script>
        /*getUrlParam(name) {
                   var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
                   var r = window.location.search.substr(1).match(reg);  //匹配目标参数
                   console.log(r);
                   console.log(window.location.href);
                   if (r != null) return unescape(r[2]); return null; //返回参数值
               }
               var details = getUrlParam(Notice_title);
               console.log(details);
               $("body").append(details);  //这个页面新创建的，没有调格式
       */
        getUrlParam(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
            var r = window.location.search.substr(1).match(reg);  //匹配目标参数
            console.log(r);
            console.log(window.location.href);
            if (r != null) return unescape(r[2]); return null; //返回参数值
        },


        window.onload = function () {
            var Notice_title = getUrlParam(Notice_title);

            $.ajax({
                url: "http://localhost:8080/All_getnotice_1",
                type: "post",
                data: Notice_title,//向后端传title
                success: function (data) {
                    /*这个方法里是ajax发送请求成功之后执行的代码*/
                    console.log("from 后端");
                    console.log(data.detail);
                    console.log(data.time);

                    showData(data);//我们仅做数据展示
                },
                error: function (msg) {
                    alert("ajax连接异常：" + msg);
                    console.log("error");
                }
            })
            function showData(data) {

                var str = "<ul><h2>" + Notice_title + "</h2><p>" + data.detail + "</p><h5>发布时间：" + data.time + "</h5></ul>"
                console.log(str);
                $("#ol").html(str);



            }
        }

    </script>
</head>

<body>
    <div id="ol">

    </div>
</body>

</html>