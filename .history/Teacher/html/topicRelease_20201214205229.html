<html>

<head>
  <meta charset="utf-8">
  <title>教师发布题目</title>
  <link rel="stylesheet" type="text/css" href="../css/topicRelease.css">
  <link rel="stylesheet" type="text/css" href="../../Student/css/StuNav.css">
  <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <!-- <script src="guide_grade.js"></script> -->
  <script type="text/javascript">
  <script src="D:\Practical-training-2\Teacher\JS\Tnotice.js"></script>
  function topic_release() {
     var name = $("#topicname").val();                     //选题名
     var intro = $("#topicintro").val();                     //选题简介
     console.log("上传的选题"+name);
     console.log("上传的详细信息"+intro);
     $.ajax({
         type:"POST",
         url:"http://localhost:8080/topicRelease",
         data:JSON.stringify({"name":name,"intro":intro}), //将JSON对象转为字符串
         dataType:"JSON",
         contentType:"application/json",
         async:'true',

 beforeSend: function(XMLHttpRequest,settings){
   //ShowLoading();
   // console.log($.ajax.data);
     },
         success:function(data) {
          if(data == true){
                   alert("选题上传成功");}     
         },
         error: function(){
   //请求出错处理
         console.log("选题上传失败");

 },

     })

 }
 </script>
</head>

<body>
  <div class = "tan"></div>
  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="collapse navbar-collapse" id="example-navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a class="icon-bar" href="#">方正实训</a>
          </li>
          <li><a href="Tnotice.html">通知公告</a>
          </li>
          <li><a href="TBord.html">留言板</a>
          </li>
          <li class="active"><a href="topicRelease.html">发布题目</a>
          </li>
          <li><a href="guide_grade.html" onclick="javascript:requestData()">录入指导成绩</a>
          </li>
          <li><a href="report_grade.html">答辩打分</a>
          </li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="..\usercenter\html\teacherCenter.html" id="navbarDropdown"
              role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">我的</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container">
    <form action="" method="get">
      <h5>选题名称：</h5>
      <input type="text" id="topicname" placeholder="请输入选题名称" />
      <br>
      <br>
      <h5>选题简介：</h5>
      <textarea rows="10" cols="70" id='topicintro'></textarea>
      <br>
      <br>
      <button type="button" onclick = "topic_release()" class="btn btn-primary" style="margin-left: 30%;">提 交</button>
    </form>

  </div>
</body>